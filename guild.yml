- operations:
    train:
      main: scripts/main train
      output-scalars: off
      flags-dest: args
      flags-import: all
      requires:
        - data
      sourcecode:
        select:
          - "*.py"
          - include:
              dir: scripts
          - include:
              dir: src
    test:
      main: scripts/main test
      output-scalars: off
      flags-dest: args
      flags-import: all
      requires:
        - operation: train
          select: '.+\.ckpt'
      sourcecode:
        select:
          - "*.py"
          - include:
              dir: scripts
          - include:
              dir: src
  resources:
    data:
      - file: data
        target-type: link
    logs:
      - file: logs
        target-type: link